. ${ROOT_DIR}/${KERNEL_DIR}/build.config.common
. ${ROOT_DIR}/${KERNEL_DIR}/build.config.gki.aarch64

BUILD_INITRAMFS=1
DEFCONFIG=ti_gki_defconfig
FRAGMENT_CONFIG=${KERNEL_DIR}/arch/arm64/configs/ti_gki.fragment
PRE_DEFCONFIG_CMDS="KCONFIG_CONFIG=${ROOT_DIR}/${KERNEL_DIR}/arch/arm64/configs/${DEFCONFIG} ${ROOT_DIR}/${KERNEL_DIR}/scripts/kconfig/merge_config.sh -m -r ${ROOT_DIR}/${KERNEL_DIR}/arch/arm64/configs/gki_defconfig ${ROOT_DIR}/${FRAGMENT_CONFIG}"
POST_DEFCONFIG_CMDS="rm ${ROOT_DIR}/${KERNEL_DIR}/arch/arm64/configs/${DEFCONFIG}"

BUILD_DTBO_IMG=1

MAKE_GOALS="
modules
ti/k3-am625-sk.dtb
ti/k3-am625-beagleplay.dtb
ti/k3-am62-lp-sk.dtb
ti/k3-am62p5-sk.dtb
ti/k3-am62x-sk-csi2-ov5640.dtbo
ti/k3-am62x-sk-csi2-tevi-ov5640.dtbo
ti/k3-am62x-sk-hdmi-audio.dtbo
ti/k3-am62x-sk-lpm-wkup-sources.dtbo
ti/k3-am625-sk-microtips-mf101hie-panel.dtbo
ti/k3-am625-beagleplay-csi2-ov5640.dtbo
ti/k3-am625-beagleplay-csi2-tevi-ov5640.dtbo
ti/k3-am625-beagleplay-lincolntech-lcd185-panel.dtbo
ti/k3-am62-lp-sk-microtips-mf101hie-panel.dtbo
ti/k3-am62p5-sk-mcan.dtbo
ti/k3-am62p5-sk-microtips-mf101hie-panel.dtbo
"

FILES="${FILES}
arch/arm64/boot/Image.lz4
arch/arm64/boot/dts/ti/k3-am62-lp-sk.dtb
arch/arm64/boot/dts/ti/k3-am625-sk.dtb
arch/arm64/boot/dts/ti/k3-am625-sk-lpmdemo.dtb
"

MKDTIMG_DTBOS="
arch/arm64/boot/dts/ti/k3-am625-sk-csi2-ov5640.dtbo
arch/arm64/boot/dts/ti/k3-am625-sk-csi2-tevi-ov5640.dtbo
arch/arm64/boot/dts/ti/k3-am625-sk-microtips-mf101hie-panel.dtbo
"